_format_version: "3.0"
_transform: true

services:
  - name: otobix-api
    url: https://otobix-app-backend-development.onrender.com/
    read_timeout: 60000
    connect_timeout: 6000
    write_timeout: 60000
    routes:
      - name: api
        paths: ["/api"]
        strip_path: false
      - name: socketio         # if your Socket.IO path is /socket.io
        paths: ["/socket.io"]
        strip_path: false

plugins:
  - name: cors
    config:
      origins: ["*"]
      methods: ["GET","POST","PUT","PATCH","DELETE","OPTIONS"]
      headers: ["Authorization","Content-Type"]
      exposed_headers: ["Content-Length"]
      credentials: false
      max_age: 3600

  - name: rate-limiting
    config:
      minute: 1200
      policy: local

  - name: request-size-limiting
    config:
      allowed_payload_size: 16
